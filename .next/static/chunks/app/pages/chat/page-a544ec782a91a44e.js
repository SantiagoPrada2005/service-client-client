(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{738:(e,s,t)=>{Promise.resolve().then(t.bind(t,4422))},4422:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(5155),a=t(2115),l=t(5695);function n(){let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),c=(0,a.useRef)(null),d=(0,l.useRouter)();(0,a.useEffect)(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]);let u=async()=>{if(!t.trim())return;let e={role:"user",content:t,timestamp:new Date};s(s=>[...s,e]),n(""),o(!0);try{let e=await fetch("/api/AIHandler/geminiHandler",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t})}),r=await e.json(),a={role:"assistant",content:r.response||"I'm sorry, I couldn't process that request.",timestamp:new Date};s(e=>[...e,a])}catch(t){console.error("Error communicating with Gemini API:",t);let e={role:"assistant",content:"I'm sorry, there was an error processing your request. Please try again later.",timestamp:new Date};s(s=>[...s,e])}finally{o(!1)}},m=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-800 text-white",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>d.back(),className:"mr-4 p-2 rounded-full hover:bg-slate-700 transition-all",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"AI Assistant Chat"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 bg-slate-800/50 px-4 py-2 rounded-full border border-slate-700",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Gemini 2 Flash"})]})]}),(0,r.jsxs)("div",{className:"bg-slate-800/30 backdrop-blur-sm rounded-lg border border-slate-700 h-[calc(100vh-200px)] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===e.length?(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 w-16 h-16 rounded-full mb-4 flex items-center justify-center text-white text-2xl",children:"\uD83E\uDD16"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Asistente AI"}),(0,r.jsx)("p",{className:"text-slate-300 max-w-md",children:"Preg\xfantame cualquier cosa y te ayudar\xe9 con respuestas inteligentes potenciadas por Gemini."})]}):e.map((e,s)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-[80%] rounded-lg p-4 ".concat("user"===e.role?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":"bg-slate-700/50 border border-slate-600"),children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:["assistant"===e.role&&(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold mr-2",children:"AI"}),(0,r.jsxs)("div",{className:"text-sm ".concat("user"===e.role?"ml-auto":""),children:["user"===e.role?"You":"Assistant"," • ",m(e.timestamp)]})]}),(0,r.jsx)("p",{className:"whitespace-pre-wrap",children:e.content})]})},s)),i&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsxs)("div",{className:"bg-slate-700/50 border border-slate-600 rounded-lg p-4 max-w-[80%]",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold mr-2",children:"AI"}),(0,r.jsxs)("div",{className:"text-sm",children:["Assistant • ",m(new Date)]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})}),(0,r.jsx)("div",{ref:c})]}),(0,r.jsx)("div",{className:"p-4 border-t border-slate-700",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),onKeyUp:e=>"Enter"===e.key&&u(),placeholder:"Escribe tu mensaje aqu\xed...",className:"flex-1 bg-slate-700/50 border border-slate-600 rounded-l-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-white placeholder-slate-400"}),(0,r.jsx)("button",{onClick:u,disabled:i||!t.trim(),className:"bg-gradient-to-r from-indigo-500 to-purple-500 px-4 py-3 rounded-r-lg ".concat(i||!t.trim()?"opacity-50 cursor-not-allowed":"hover:from-indigo-600 hover:to-purple-600"," transition-all duration-300"),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]})})}},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(738)),_N_E=e.O()}]);